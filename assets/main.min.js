"use strict";let productsArray=[],quiz=(fetch(products).then(e=>e.json()).then(e=>{productsArray=e}).catch(e=>{console.error("Error:",e)}),document.querySelectorAll(".quiz")),next_step=document.querySelectorAll(".quiz__next"),prev_step=(next_step.forEach(function(e){e.addEventListener("click",function(){var e=+this.closest(".quiz").getAttribute("data-step");quiz.forEach(function(e){e.style.display="none"}),document.querySelector(`.quiz[data-step="${1+e}"]`).style.display="block"})}),document.querySelectorAll(".quiz__prev")),answers=(prev_step.forEach(function(e){e.addEventListener("click",function(){var e=+this.closest(".quiz").getAttribute("data-step");quiz.forEach(function(e){e.style.display="none"}),document.querySelector(`.quiz[data-step="${e-1}"]`).style.display="block"})}),{type:[],concern:[],style:[]});function handleQuizStep(e,t){for(var r in answers)if(e===r){var s=answers[r].indexOf(t);-1<s?answers[r].splice(s,1):answers[r].push(t);break}}let quiz_answers=document.querySelectorAll(".quiz__answers-item"),quiz_result=(quiz_answers.forEach(function(e){e.addEventListener("click",function(){var e=this.closest(".quiz").getAttribute("data-question"),t=this.getAttribute("data-answer");this.classList.toggle("active"),handleQuizStep(e,t)})}),document.querySelectorAll(".quiz__result"));function renderProduct(t){var e=productsArray.find(e=>e.name===t),e=`
    <div class="results__product">
      <div class="results__product-image">
           <img src="${e.image}" alt="${e.name}">
      </div>
      <div class="row justify-content-between results__product-info">
           <div class="results__product-title">
               ${e.name}
           </div>
           <div class="results__product-price">
               ${e.price}
           </div>
      </div>
      <div class="btn btn--primary results__product-info">
               ADD TO CART
      </div>
    </div>
  `,r=document.getElementById("products-container");r&&(r.innerHTML=r.innerHTML+e)}quiz_result.forEach(function(e){e.addEventListener("click",function(){var e=productsArray.filter(function(e){for(var r in e.conditions){let t=e.conditions[r];if(!answers[r].some(e=>t.includes(e)))return!1}return!0});e.forEach(function(e){renderProduct(e.name)}),Object.keys(e).length<1&&(document.querySelector(".quiz__results").remove(),document.querySelector(".quiz__empty").style.display="block")})});let restart=document.querySelectorAll(".quiz__restart"),progress_stage=(restart.forEach(function(e){e.addEventListener("click",function(){quiz.forEach(function(e){e.style.display="none"}),document.querySelector('.quiz[data-step="0"]').style.display="block",quiz_answers.forEach(function(e){for(var t in e.classList.remove("active"),answers)answers[t]=[]})})}),document.querySelectorAll(".quiz__progress-stage"));progress_stage.forEach(function(e){e.addEventListener("click",function(){quiz.forEach(function(e){e.style.display="none"});var e=this.getAttribute("data-stage");document.querySelector(`.quiz[data-step="${e}"]`).style.display="block"})});